function resizeToRatio(imagem, wid, hei, uncut, descentralizar) {

    if (!$(imagem).hasClass('resized')) {
        $(imagem).addClass('resized');
        $(imagem).ready(function () {
            if (!wid) {
                wid = $(imagem).parent().width();
            }
            if (!hei) {
                hei = $(imagem).parent().height();
            }
            var largura = $(imagem).width();
            var altura = $(imagem).height();
            var proporcao = altura / largura;
            if (largura >= altura) {
                $(imagem).width(wid);
                largura = $(imagem).width();
                altura = $(imagem).height();
            } else {
                $(imagem).height(hei);
                largura = $(imagem).width();
                altura = $(imagem).height();
            }
            if (!uncut) {
                while ((largura < wid) || (altura < hei)) {
                    largura = largura + 10;
                    altura = altura + Math.round(proporcao * 10);
                    $(imagem).height(altura);
                    $(imagem).width(largura);
                }
            } else {
                while ((largura > wid) || (altura > hei)) {
                    largura = largura - 10;
                    altura = altura - Math.round(proporcao * 10);
                    $(imagem).height(altura);
                    $(imagem).width(largura);
                }
            }
            if (!descentralizar) {
                $(imagem).css({'position': 'absolute', 'top': '50%', 'left': '50%', 'margin-top': '-' + altura / 2 + 'px', 'margin-left': '-' + largura / 2 + 'px'});
            }
        });
    }
}